(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08efb10c"],{1012:function(e,t,a){"use strict";a("a6b8")},"22dc":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return _}));var r=a("1da1"),n=(a("96cf"),a("7424")),o=a("b775");function i(){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",Object(o["c"])(n["ADMININDEX"],t));case 2:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",Object(o["e"])(n["ADMINCREATE"],t));case 2:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",o["g"].put(n["ADMINUPDATE"],t));case 2:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function _(){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",o["g"].put(n["ADMINDELETE"],t));case 2:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},3521:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"standard-table"},[a("div",{staticClass:"alert"},[e.selectedRows?a("a-alert",{attrs:{type:"info","show-icon":!0}},[a("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[e._v(" 已选择 "),a("a",[e._v(e._s(e.selectedRows.length))]),e._v(" 项 "),a("a",{staticClass:"clear",on:{click:e.onClear}},[e._v("清空")]),e._l(e.needTotalList,(function(t,r){return[t.needTotal?a("div",{key:r},[e._v(" "+e._s(t.title)+"总计 "),a("a",[e._v(e._s(t.customRender?t.customRender(t.total):t.total))])]):e._e()]}))],2)]):e._e()],1),a("a-table",{attrs:{bordered:e.bordered,loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowKey:e.rowKey,pagination:e.pagination,expandedRowKeys:e.expandedRowKeys,expandedRowRender:e.expandedRowRender,rowSelection:e.selectedRows?{selectedRowKeys:e.selectedRowKeys,onChange:e.updateSelect}:void 0},on:{change:e.onChange},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots).filter((function(e){return"expandedRowRender"!==e})),(function(t){return{key:t,fn:function(a,r,n){return[e._t(t,null,null,{text:a,record:r,index:n})]}}})),{key:e.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(t,a,r,n){return[e._t(e.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:t,index:a,indent:r,expanded:n})]}}],null,!0)},[e._l(Object.keys(e.$slots),(function(t){return a("template",{slot:t},[e._t(t)],2)}))],2)],1)},n=[],o=a("c1f7"),i=o["a"],s=(a("8e7f"),a("2877")),c=Object(s["a"])(i,r,n,!1,null,"c17909da",null);t["a"]=c.exports},"5e0d":function(e,t,a){"use strict";var r=a("dde5"),n=(a("b893"),[{title:"ID",dataIndex:"id"},{title:"状态",dataIndex:"status"},{title:"标识",dataIndex:"mark"},{title:"名称",dataIndex:"title"},{title:"中文描述",dataIndex:"description"},{title:"创建时间",dataIndex:"create_date"},{title:"创建人ID",dataIndex:"create_by"},{title:"最后更新时间",dataIndex:"last_update_date"},{title:"最后更新人ID",dataIndex:"last_update_by"},{title:"版本号",dataIndex:"version"},{title:"操作",scopedSlots:{customRender:"action"}}]),o=[{title:"ID",dataIndex:"id"},{title:"状态",dataIndex:"status"},{title:"供商名称",dataIndex:"supplier_title"},{title:"商品编码",dataIndex:"product_id"},{title:"sap库存物料编码",dataIndex:"stock_material_id"},{title:"商品名称",dataIndex:"product_title"},{title:"规格",dataIndex:"product_spec"},{title:"商品库存编码",dataIndex:"stock_product_id"},{title:"创建时间",dataIndex:"create_date_show"},{title:"版本号",dataIndex:"version"},{title:"操作",scopedSlots:{customRender:"action"}}],i=[{title:"ID",dataIndex:"id"},{title:"状态",dataIndex:"status"},{title:"供商名称",dataIndex:"supplier_title"},{title:"商品名称",dataIndex:"product_title"},{title:"规格",dataIndex:"product_spec"},{title:"创建时间",dataIndex:"create_date_show"},{title:"版本号",dataIndex:"version"}];t["a"]={SystemOrderColumns:n,SystemOrderQuery:r["e"],OrderStockColumns:o,OrderStockQuery:r["c"],OrderTempColumns:i,OrderTempQuery:r["d"]}},"5e9f":function(e,t,a){"use strict";var r=a("53ca"),n=(a("4de4"),a("4360"),a("22dc"));a("dde5"),a("28f2");t["a"]={data:function(){return{filterParams:{pz:10,page:1},pagination:{total:1,pageSize:1},loading:!1,columns:[],dataSource:[],selectedRows:[],formData:{},isShowModal:!1,indexQuery:n["d"]}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,this.indexQuery(this.filterParams).then((function(t){if(1==t.code){var a=[],n=t.data,o=n.list;"object"==Object(r["a"])(o)&&o.data?(a=n.list.data||[],e.dataSource.length<=0&&e.initPainterData(o)):(a=n.list||[],e.pagination=!1),e.dataSource=a}setTimeout((function(){return e.loading=!1}),500)}))},initPainterData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pagination={total:e.total,showSizeChanger:!0,showQuickJumper:!0,pageSize:e.per_page}},changeFilterParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.current&&(t["page"]=e.current),e.pageSize&&(t["pz"]=e.pageSize),this.filterParams=Object.assign({},this.filterParams,t)},deleteRecord:function(e){this.dataSource=this.dataSource.filter((function(t){return t.key!==e})),this.selectedRows=this.selectedRows.filter((function(t){return t.key!==e}))},onChange:function(e){this.changeFilterParams(e),this.loadData()}}}},"8e7f":function(e,t,a){"use strict";a("be40")},9800:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u}));var r=a("1da1"),n=(a("96cf"),a("7424")),o=a("b775");function i(){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",o["g"].delete(n["ORDERSTOCKDELETE"],t));case 2:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",o["g"].put(n["ORDERSTOCKUPDATE"],t));case 2:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",o["g"].post(n["ORDERSTOCKCREATE"],t));case 2:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}},a6b8:function(e,t,a){},b893:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("c1df"),n=a.n(r);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY年M月D日";return n()(1e3*e).format(t)}},be40:function(e,t,a){},c1f7:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_docker_acmephp_web_qiaode_zhiweixuan_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__["a"]={name:"StandardTable",props:{bordered:Boolean,loading:[Boolean,Object],columns:Array,dataSource:Array,rowKey:{type:[String,Function],default:"key"},pagination:{type:[Object,Boolean],default:!0},selectedRows:Array,expandedRowKeys:Array,expandedRowRender:Function},data:function(){return{needTotalList:[]}},methods:{updateSelect:function(e,t){this.$emit("update:selectedRows",t),this.$emit("selectedRowChange",e,t)},initTotalList:function(e){var t=e.filter((function(e){return e.needTotal})).map((function(e){return Object(D_docker_acmephp_web_qiaode_zhiweixuan_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(D_docker_acmephp_web_qiaode_zhiweixuan_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["a"])({},e),{},{total:0})}));return t},onClear:function(){this.updateSelect([],[]),this.$emit("clear")},onChange:function(e,t,a,r){var n=r.currentDataSource;this.$emit("change",e,t,a,{currentDataSource:n})}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function selectedRows(_selectedRows){this.needTotalList=this.needTotalList.map((function(item){return Object(D_docker_acmephp_web_qiaode_zhiweixuan_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(D_docker_acmephp_web_qiaode_zhiweixuan_vue_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__["a"])({},item),{},{total:_selectedRows.reduce((function(sum,val){var v;try{v=val[item.dataIndex]?val[item.dataIndex]:eval("val.".concat(item.dataIndex))}catch(_){v=val[item.dataIndex]}return v=isNaN(parseFloat(v))?0:parseFloat(v),sum+v}),0)})}))}},computed:{selectedRowKeys:function(){var e=this;return this.selectedRows.map((function(t){return"function"===typeof e.rowKey?e.rowKey(t):t[e.rowKey]}))}}}},d460:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("div",[a("a-space",{staticClass:"operator"},[a("a-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:e.createOrderTemp}},[e._v("生成")])],1),a("standard-table",{attrs:{rowKey:"id",columns:e.columns,loading:e.loading,dataSource:e.dataSource,pagination:e.pagination,scroll:{scrollToFirstRowOnChange:!0}},on:{change:e.onChange},scopedSlots:e._u([{key:"action",fn:function(t){t.text;var r=t.record;return a("div",{},[a("a",{staticStyle:{"margin-right":"8px"},on:{click:function(t){return e.editData(r)}}},[a("a-icon",{attrs:{type:"edit"}}),e._v(" 编辑 ")],1),a("a",{on:{click:function(t){return e.deleteOrderStock(r.id)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v(" 删除 ")],1)])}}])},[a("template",{slot:"statusTitle"},[a("a-icon",{attrs:{type:"info-circle"},nativeOn:{click:function(t){return e.onStatusTitleClick(t)}}})],1)],2)],1)]),a("OrderTempEdit",{attrs:{show:e.isShowModal,formData:e.formData},on:{close:e.closeModal}})],1)},n=[],o=a("2909"),i=a("5530"),s=(a("d81d"),a("a434"),a("5e0d")),c=a("5e9f"),l=a("3521"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{title:e.formData.id?"编辑订单库存关系":"添加订单库存关系",width:"60%",visible:e.show,"confirm-loading":e.confirmLoading},on:{ok:e.formSubmit,cancel:e.closeModal}},[a("a-form",{attrs:{layout:"horizontal"}},[a("a-form-item",{attrs:{label:"供货商编码",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入供货商编码"},model:{value:e.formData.supplier_id,callback:function(t){e.$set(e.formData,"supplier_id",t)},expression:"formData.supplier_id"}})],1),a("a-form-item",{attrs:{label:"供货商名称",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入供货商名称"},model:{value:e.formData.supplier_title,callback:function(t){e.$set(e.formData,"supplier_title",t)},expression:"formData.supplier_title"}})],1),a("a-form-item",{attrs:{label:"存货编码",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入存货编码"},model:{value:e.formData.inventory_id,callback:function(t){e.$set(e.formData,"inventory_id",t)},expression:"formData.inventory_id"}})],1),a("a-form-item",{attrs:{label:"商品编码",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入商品编码"},model:{value:e.formData.product_id,callback:function(t){e.$set(e.formData,"product_id",t)},expression:"formData.product_id"}})],1),a("a-form-item",{attrs:{label:"商品名称",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.formData.product_title,callback:function(t){e.$set(e.formData,"product_title",t)},expression:"formData.product_title"}})],1),a("a-form-item",{attrs:{label:"规格",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入规格"},model:{value:e.formData.product_spec,callback:function(t){e.$set(e.formData,"product_spec",t)},expression:"formData.product_spec"}})],1),a("a-form-item",{attrs:{label:"商品库存编码",required:!0,"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入商品库存编码"},model:{value:e.formData.stock_product_id,callback:function(t){e.$set(e.formData,"stock_product_id",t)},expression:"formData.stock_product_id"}})],1)],1)],1)],1)},d=[],_=a("9800"),p={name:"OrderTempEdit",props:{show:{type:Boolean,default:!1},formData:{type:Object,default:function(){return{}}}},data:function(){return{formItemLayout:{labelCol:{span:5},wrapperCol:{span:14,offset:1}},confirmLoading:!1}},methods:{changeOrderDate:function(e,t){this.formData.order_date=t},changeArrivalDate:function(e,t){this.formData.arrival_date=t},closeModal:function(){this.$emit("close")},formSubmit:function(){var e=this;this.formData.hasOwnProperty("id")?(this.confirmLoading=!0,Object(_["c"])(this.formData).then((function(t){1==t.code?(e.$message.success(t.msg),e.$emit("close",!0)):e.$message.error(t.msg),e.confirmLoading=!1}))):(this.confirmLoading=!0,Object(_["b"])(this.formData).then((function(t){1==t.code?(e.$message.success(t.msg),e.$emit("close",!0)):e.$message.error(t.msg),e.confirmLoading=!1})))}}},m=p,f=a("2877"),h=Object(f["a"])(m,u,d,!1,null,null,null),b=h.exports,g=a("ca00"),v=a("1da1"),w=(a("96cf"),a("7424")),D=a("b775");function y(){return R.apply(this,arguments)}function R(){return R=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",D["g"].post(w["ORDERTEMPCREATE"],t));case 2:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function O(){return x.apply(this,arguments)}function x(){return x=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",D["g"].post(w["ORDERTEMPWAITMATCHIDS"],t));case 2:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}var I={name:"OrderTemp",components:{StandardTable:l["a"],OrderTempEdit:b},data:function(){return Object(i["a"])(Object(i["a"])({},Object(g["d"])(s["a"],this)),{},{filterParams:{},formData:{status:!0},idsList:[],createLoading:!1})},mixins:[c["a"]],authorize:{deleteRecord:"delete"},created:function(){},methods:{createOrderTemp:function(){var e=this;Object(g["a"])("温馨提示","是否生成业务订单",this).then((function(){e.createLoading=!0,O().then((function(t){e.idsList=Object(o["a"])(t.data.list)||[];for(var a=e.idsList.length>10?10:e.idsList.length,r=0;r<a;r++){if(e.idsList.length<=0)break;setTimeout((function(){e.request()}),300*r)}}))}))},request:function(){var e=this;if(this.idsList.length<=0)return this.createLoading=!1,void this.$message.success("生成成功!");this.idsList.map((function(t,a){var r=e.idsList.splice(a,1);y({ids:r[0]}).then((function(t){1==t.code?setTimeout((function(){e.request()}),500):(e.createLoading=!1,e.$message.error("生成失败!"))}))}))},closeModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isShowModal=!1,this.formData={},e&&this.loadData()},deleteOrderStock:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t&&this.$message.error("该数据信息有误！"),Object(g["a"])("温馨提示","确定要删除该订单库存关系吗？",this).then((function(){e.loading=!0;var a={id:t};OrderStockDeleteApi(a).then((function(t){1==t.code?(e.$message.success(t.msg),e.loadData()):e.$message.error(t.msg),e.loading=!1})).catch((function(t){e.$message.error("系统错误")}))}))},editData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.formData=Object(i["a"])({},e)||{},this.isShowModal=!0},handleMenuClick:function(e){"delete"===e.key&&this.remove()}}},k=I,E=(a("1012"),Object(f["a"])(k,r,n,!1,null,"52a09016",null));t["default"]=E.exports}}]);